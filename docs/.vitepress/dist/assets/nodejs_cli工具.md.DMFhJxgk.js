import{_ as a,c as s,o as n,a3 as p}from"./chunks/framework.C5U8cnJv.js";const e="/xhh-blog/assets/image-16.D0XnFoWz.png",l="/xhh-blog/assets/image-17.BHbs2wIq.png",A="data:image/png;base64,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",C=JSON.parse('{"title":"cli工具","description":"","frontmatter":{},"headers":[],"relativePath":"nodejs/cli工具.md","filePath":"nodejs/cli工具.md"}'),t={name:"nodejs/cli工具.md"},i=p('<h1 id="cli工具" tabindex="-1">cli工具 <a class="header-anchor" href="#cli工具" aria-label="Permalink to &quot;cli工具&quot;">​</a></h1><p>命令行敲命令快速创建项目。</p><p>以简单版的创建 html 页面为例：</p><h3 id="安装模块" tabindex="-1">安装模块 <a class="header-anchor" href="#安装模块" aria-label="Permalink to &quot;安装模块&quot;">​</a></h3><p>交互式命令行工具: prompts</p><p>终端加颜色：picocolors</p><h3 id="项目目录" tabindex="-1">项目目录 <a class="header-anchor" href="#项目目录" aria-label="Permalink to &quot;项目目录&quot;">​</a></h3><p><img src="'+e+`" alt="alt text"></p><p>bin：把脚本变成命令行工具</p><h3 id="入口文件-index-js" tabindex="-1">入口文件 index.js <a class="header-anchor" href="#入口文件-index-js" aria-label="Permalink to &quot;入口文件 index.js&quot;">​</a></h3><p>关键代码：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># 用 Node.js 执行这个文件</span></span>
<span class="line"><span>#!/usr/bin/env node</span></span>
<span class="line"><span></span></span>
<span class="line"><span>async function init() {</span></span>
<span class="line"><span>  // 项目名称（命令行可以输入默认值）</span></span>
<span class="line"><span>  const result = {}</span></span>
<span class="line"><span>  try {</span></span>
<span class="line"><span>    result.projectName = await prompts({</span></span>
<span class="line"><span>      type: &#39;text&#39;,</span></span>
<span class="line"><span>      name: &#39;projectName&#39;,</span></span>
<span class="line"><span>      message: reset(&#39;Project name:&#39;),</span></span>
<span class="line"><span>      initial: targetDirectory,</span></span>
<span class="line"><span>      onState: (state) =&gt; {</span></span>
<span class="line"><span>        targetDirectory = formatTargetDirectory(state.value) || targetDirectory</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>  } catch (cancelled) {</span></span>
<span class="line"><span>    return</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  // 模板配置</span></span>
<span class="line"><span>  const TEMPLATES = [</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>      name: &#39;html1&#39;,</span></span>
<span class="line"><span>      display: &#39;Html1&#39;,</span></span>
<span class="line"><span>      color: green</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>      name: &#39;html2&#39;,</span></span>
<span class="line"><span>      display: &#39;Html2&#39;,</span></span>
<span class="line"><span>      color: cyan</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  ]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  // 询问选择哪一个模板</span></span>
<span class="line"><span>  const templateResponse = await prompts({</span></span>
<span class="line"><span>    type: &#39;select&#39;,</span></span>
<span class="line"><span>    name: &#39;template&#39;,</span></span>
<span class="line"><span>    message: reset(&#39;Select a template:&#39;),</span></span>
<span class="line"><span>    choices: TEMPLATES.map(template =&gt; ({</span></span>
<span class="line"><span>      title: template.color(template.display),</span></span>
<span class="line"><span>      value: template.name</span></span>
<span class="line"><span>    }))</span></span>
<span class="line"><span>  })</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  template = templateResponse.template</span></span>
<span class="line"><span>  // ...</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  // 创建目标目录</span></span>
<span class="line"><span>  fs.mkdirSync(rootDir, { recursive: true })</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  // 写入模板文件</span></span>
<span class="line"><span>  const files = fs.readdirSync(templateDirectory)</span></span>
<span class="line"><span>  for (const file of files) {</span></span>
<span class="line"><span>    write(file)</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  // ...</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>init()</span></span></code></pre></div><h3 id="运行" tabindex="-1">运行 <a class="header-anchor" href="#运行" aria-label="Permalink to &quot;运行&quot;">​</a></h3><h4 id="方式1" tabindex="-1">方式1 <a class="header-anchor" href="#方式1" aria-label="Permalink to &quot;方式1&quot;">​</a></h4><p><img src="`+l+'" alt="alt text"></p><p>当前目录出现了 cli-test-project 文件夹，里面有 html2 模板文件。</p><h4 id="方式2" tabindex="-1">方式2 <a class="header-anchor" href="#方式2" aria-label="Permalink to &quot;方式2&quot;">​</a></h4><p>npm link 到全局，在其他文件目下输入命令 cli-test 即可。</p><p><img src="'+A+'" alt="alt text"></p>',19),c=[i];function r(o,h,d,m,u,f){return n(),s("div",null,c)}const I=a(t,[["render",r]]);export{C as __pageData,I as default};
