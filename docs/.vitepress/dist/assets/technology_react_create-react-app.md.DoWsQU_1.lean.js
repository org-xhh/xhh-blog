import{_ as n,D as p,c as e,I as t,w as l,a3 as s,o as i,a as c}from"./chunks/framework.C5U8cnJv.js";const o="/xhh-blog/assets/image-4.DV_ce5A2.png",r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQ8AAABQCAYAAAAHgPCoAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAdDSURBVHhe7Z3Na11FGMbz57hwWReu3HRViNSVCzeuCl35gWQR78qCkIWQXRe3FURcKVh0ZdpGxEVpN0GxkmAJiASEgoELhRsojHfOOXPOzDvvnHtmbm6rOb8LP8h0Ps7M8z7z9JKktxuvvHrJAIDkHfPxdN8cnMzMfG661/MzM//nxBzcu20+uqLNGw+EBwAUQXgAQBGEBwAUQXgAQBGEBwAUQXgAQBGEBwAUQXgAQBGEBwAUQXgAQBGEx+i5Y540v3mdes0e7irzYOwQHqOnC4/5szOVv37cUebB2CE8xs7OIzOzyTF7ZHa0foAEhMfYceFxsm/e1foBEhAeY+eLQxsdxhzf0fsBEhAeY+fb4zo8/iA8IA/CY+Rc/u6kyg5+ogK5EB4jZ+dh9R2P8PX8zMz+PjY/fXXDvKXMAbAQHiOnCo+596NZ/yP3Fq/5n/vmk5F/3B7oEB4Q8/YNc/PnE+NyZP7LbXNZGwejhvCAJNea74cYc2y+4d0HCAgP6OG2OXhmw2NmHuxo/TBmCA/oYdc8qH/9lPCACMIDevjS/P68CY9PtX4YM4QHJLn2Q/M9j2e/ml2lH8YN4TFq7piDp4fm+8+uhz9NuTIxnz90P205M0++vu7NAaghPEaN91ke9r9RbH7Xo3vZf46/y49pQYXwGDXvmd17h+bpzA+MxWs+M09/2zc3t95U5gDUEB4AUAThAQBFEB4AUAThAQBFEB4AUAThAQBFEB4AUAThAQBFEB4AUAThAQBFEB4AUAThAQBFEB4AUAThAQBFEB4AUAThAQBFEB4AUAThAQBFEB4AUER2eLz2+hvm/Q8+NFtbW5DA6mN1QqvzBV1Xx2mo3e1cssPDPvz+/fvm9PQUElh9rE5odb6g6+o4DbW7nUt2eNj00jYFIS7ptT4oB11Xx+qn3e1cCI81gcnXA7qujtVPu9u5EB5rApOvB3RdHaufdrdzOf/wuDsxGxsTs6f1jYhhJt8zk40NM7mr9V18jm5tLryy4bHcN8N0PTV72/66jk0zfayPHxNWP+1u50J4ZFKZcntP7fMZZvKLHR5VOFydmiOlz2K13Lx1pPalGKarXqc6rC5wgDyems0B57P6aXc7F8IjE8JjOP3hcWSmV/PPPkzXdJ2G1u9/ycUKj9ogm9uTxaEWRasQwVId2PW5gzfGWsyr/twVWx3bjd+8Na0uY9VvTeuPFyauTOT6fDM1+594/e5vx+Bt9hIDDjN5GB61sRfPds+IjFCPd3toL57d89XFvIUG3ZzE2PY500qzut/WxB8f1ig4t69jY9bJtqJLpaMyp8U+b7nRJcN0TYdEFGhJT9WoPqnmdB5x2iZ1ajw19frtHH9tvz7p2vXdJ39Ov65WP+1u5/JCwiNqt0WtD9yK085txgWmS421bfmcRkg3vzGImxsaqCmIe/vcmD5sd8VImVIyzOThmWoziWel9tlc3Gpss+fIZNpYt27b1rULz+/6xPndxRNtXWeBm+vR7T/NMF176hScp89TPT5p9t5qpMwNnt/Ux413IRPUfUido1o17UD/rs4prH7a3c7lxbzz8ESORe0E74jnVWMDI9Zj6gLI8bLtm8Sf1+CvLfckCpI0pWCYyZXw8NYOzNtnDHXPoa52baeHfE7YDrXz51X4a0d7Cs/TGx7Vnr25sp1gmK7xGVt8rezXgz3lodSiVydZH9GO6+yNXdCtHe8pOKeyLw2rn3a3c3mp4ZE2VzzPpbVEF1W2fVPXX8drJQotCpI0pWCYyTPCQ+7LRzWnf7aGZm35nLDta1d/Ha/V6BGZNSM8IuKaawzTNV0nf0/9ngrPEhCde4lOan26dlxnZa3qLLFGwTnHFB6RqC2KkezYpBHleNn2jVD3qaawyD39V8KjzxjqnjVda+Rzwnaone0L6uAT7Wn18EjWpWGYrqk61c9o/zzLUx5KLXp1kvUR7bjOqdrFewrO2ecRD6ufdrdzebnhIdO9PbxWOG2sa8vxst1v6mpPrq1exK4guiljhpk8Izz6ziT3nBjr2vI5YVvM1Yzu2pFZ+3X2kX3Buj0M01WvU/2M9H5DT8V7bNeMzr2gTydZH23skjrXbdknzqntS8Hqp93tXF5yeCxoCubentWFi+dpY7t+OV4vQGuSBdU+2rXShY0KUvUv5iQuhWOYycN9SW2ked346Pxyz8pYf135nLAda19fBLeWp0VkVqFzWy+5t5rkuj0M01XW16HsI+mpmmAdV4vo3DXJ88j6iPayOvfVRqudneN7XWL10+52LucfHlAx1OSQB7qujtVPu9u5EB5rApOvB3RdHaufdrdzITzWBCZfD+i6OlY/7W7nQnisCUy+HtB1dax+2t3OJTs8+BSn5fCJV+sBXVfHaajd7Vyyw4PPj1yO1YfP2jx/0HV1nIba3c4lOzwAACyEBwAUQXgAQBGEBwAUQXgAQBGEBwAUQXgAQBGEBwAUQXgAQBGEBwAUQXgAQAGXzL8I03/0KMVVrwAAAABJRU5ErkJggg==",d="/xhh-blog/assets/image-1.OTJ3BYfO.png",u="/xhh-blog/assets/image-2.CFFrttEG.png",h="/xhh-blog/assets/image-3.vJHmhZI9.png",P=JSON.parse('{"title":"create-react-app","description":"","frontmatter":{},"headers":[],"relativePath":"technology/react/create-react-app.md","filePath":"technology/react/create-react-app.md"}'),g={name:"technology/react/create-react-app.md"},m=s(`<h1 id="create-react-app" tabindex="-1">create-react-app <a class="header-anchor" href="#create-react-app" aria-label="Permalink to &quot;create-react-app&quot;">​</a></h1><h2 id="项目环境" tabindex="-1">项目环境 <a class="header-anchor" href="#项目环境" aria-label="Permalink to &quot;项目环境&quot;">​</a></h2><table tabindex="0"><thead><tr><th>模块</th><th>版本</th></tr></thead><tbody><tr><td>node</td><td>18+</td></tr><tr><td>react</td><td>18+</td></tr><tr><td>react-dom</td><td>18+</td></tr><tr><td>react-router-dom</td><td>6+</td></tr><tr><td>react-redux</td><td>9+</td></tr><tr><td>@reduxjs/toolkit</td><td>2+</td></tr></tbody></table><h2 id="新建项目" tabindex="-1">新建项目 <a class="header-anchor" href="#新建项目" aria-label="Permalink to &quot;新建项目&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>npx create-react-app react-project</span></span></code></pre></div><h2 id="配置路由" tabindex="-1">配置路由 <a class="header-anchor" href="#配置路由" aria-label="Permalink to &quot;配置路由&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>npm i react-router-dom</span></span></code></pre></div><h3 id="方式1" tabindex="-1">方式1 <a class="header-anchor" href="#方式1" aria-label="Permalink to &quot;方式1&quot;">​</a></h3><p>index.js:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import { BrowserRouter } from &#39;react-router-dom&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const root = ReactDOM.createRoot(document.getElementById(&#39;root&#39;));</span></span>
<span class="line"><span>root.render(</span></span>
<span class="line"><span>  &lt;React.StrictMode&gt;</span></span>
<span class="line"><span>      &lt;BrowserRouter&gt;</span></span>
<span class="line"><span>        &lt;App /&gt;</span></span>
<span class="line"><span>      &lt;/BrowserRouter&gt;</span></span>
<span class="line"><span>  &lt;/React.StrictMode&gt;</span></span>
<span class="line"><span>);</span></span></code></pre></div><p>App.js:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import { useRoutes } from &quot;react-router-dom&quot;</span></span>
<span class="line"><span>import routes from &#39;./router/index.js&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>function App() {</span></span>
<span class="line"><span>  const element = useRoutes(routes)</span></span>
<span class="line"><span>  return (</span></span>
<span class="line"><span>    &lt;div className=&quot;App&quot;&gt;</span></span>
<span class="line"><span>      &lt;header className=&quot;App-header&quot;&gt;</span></span>
<span class="line"><span>        {/* &lt;Routes&gt;</span></span>
<span class="line"><span>          &lt;Route path=&quot;/&quot; element={&lt;Home /&gt;}&gt;&lt;/Route&gt;</span></span>
<span class="line"><span>          &lt;Route path=&quot;/login&quot; element={&lt;Login /&gt;}&gt;&lt;/Route&gt;</span></span>
<span class="line"><span>        &lt;/Routes&gt; */}</span></span>
<span class="line"><span>        {element}</span></span>
<span class="line"><span>      &lt;/header&gt;</span></span>
<span class="line"><span>    &lt;/div&gt;</span></span>
<span class="line"><span>  );</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>router/index.js:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import Home from &#39;../pages/home.js&#39;</span></span>
<span class="line"><span>import Login from &#39;../pages/login.js&#39;</span></span>
<span class="line"><span>import NotFound from &#39;../pages/notFound.js&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>let routes = [</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        path: &#39;/&#39;,</span></span>
<span class="line"><span>        element: &lt;Home /&gt;</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        path: &#39;/login&#39;,</span></span>
<span class="line"><span>        element: &lt;Login /&gt;</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        path: &#39;*&#39;,</span></span>
<span class="line"><span>        element: &lt;NotFound /&gt;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>]</span></span>
<span class="line"><span>export default routes</span></span></code></pre></div><h3 id="方式2" tabindex="-1">方式2 <a class="header-anchor" href="#方式2" aria-label="Permalink to &quot;方式2&quot;">​</a></h3><p>App.tsx:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import { RouterProvider } from &#39;react-router-dom&#39;</span></span>
<span class="line"><span>import routerConfig from &#39;./router&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>return (</span></span>
<span class="line"><span>    &lt;RouterProvider router={routerConfig}&gt;</span></span>
<span class="line"><span>      &lt;div className=&quot;App&quot;&gt;&lt;/div&gt;</span></span>
<span class="line"><span>    &lt;/RouterProvider&gt;</span></span>
<span class="line"><span>  )</span></span></code></pre></div><p>router/index.tsx:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import React from &#39;react&#39;</span></span>
<span class="line"><span>import { createBrowserRouter } from &#39;react-router-dom&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>import ManageLayout from &#39;../layouts/ManageLayout&#39;</span></span>
<span class="line"><span>import Home from &#39;../pages/Home&#39;</span></span>
<span class="line"><span>import Demo from &#39;../pages/Demo&#39;</span></span>
<span class="line"><span>import NotFound from &#39;../pages/NotFound&#39;</span></span>
<span class="line"><span>import ManageList from &#39;../pages/manage/List&#39;</span></span>
<span class="line"><span>import ManageEdit from &#39;../pages/manage/Edit&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const router = createBrowserRouter([</span></span>
<span class="line"><span>  {</span></span>
<span class="line"><span>    path: &#39;/&#39;,</span></span>
<span class="line"><span>    element: &lt;ManageLayout /&gt;,</span></span>
<span class="line"><span>    children: [</span></span>
<span class="line"><span>      {</span></span>
<span class="line"><span>        path: &#39;/&#39;,</span></span>
<span class="line"><span>        element: &lt;Home /&gt;</span></span>
<span class="line"><span>      },</span></span>
<span class="line"><span>      {</span></span>
<span class="line"><span>        path: &#39;demo&#39;,</span></span>
<span class="line"><span>        element: &lt;Demo /&gt;</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>    ]</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>  {</span></span>
<span class="line"><span>    path: &#39;manage&#39;,</span></span>
<span class="line"><span>    children: [</span></span>
<span class="line"><span>      {</span></span>
<span class="line"><span>        path: &#39;list&#39;,</span></span>
<span class="line"><span>        element: &lt;ManageList /&gt;</span></span>
<span class="line"><span>      },</span></span>
<span class="line"><span>      {</span></span>
<span class="line"><span>        path: &#39;edit/:id&#39;,</span></span>
<span class="line"><span>        element: &lt;ManageEdit /&gt;</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>    ]</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>  {</span></span>
<span class="line"><span>    path: &#39;*&#39;, // 以上路由都没有命中，写在最后</span></span>
<span class="line"><span>    element: &lt;NotFound /&gt;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>])</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export default router</span></span></code></pre></div><h2 id="路由鉴权" tabindex="-1">路由鉴权 <a class="header-anchor" href="#路由鉴权" aria-label="Permalink to &quot;路由鉴权&quot;">​</a></h2><p>router/index.js:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>const routes = [</span></span>
<span class="line"><span>  ...</span></span>
<span class="line"><span>]</span></span>
<span class="line"><span>import Auth from &#39;./authRouter.js&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const authRoutes = (routes) =&gt; {</span></span>
<span class="line"><span>    return routes.map((item) =&gt; {</span></span>
<span class="line"><span>        if (item.needAuth) {</span></span>
<span class="line"><span>            return {</span></span>
<span class="line"><span>                path: item.path,</span></span>
<span class="line"><span>                element: (</span></span>
<span class="line"><span>                    &lt;Auth&gt;</span></span>
<span class="line"><span>                        {item.element}</span></span>
<span class="line"><span>                    &lt;/Auth&gt;</span></span>
<span class="line"><span>                )</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>        } else {</span></span>
<span class="line"><span>            delete item.needAuth</span></span>
<span class="line"><span>            return item</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export default authRoutes(routes)</span></span></code></pre></div><p>authRouter.js:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span></span></span>
<span class="line"><span>import { getToken } from &quot;../utils/storage&quot;;</span></span>
<span class="line"><span>import { Navigate, useLocation } from &quot;react-router-dom&quot;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const Auth = ({ children }) =&gt; {</span></span>
<span class="line"><span>    const hasToken = getToken()</span></span>
<span class="line"><span>    const location = useLocation()</span></span>
<span class="line"><span>    if (hasToken) {</span></span>
<span class="line"><span>        if (location.pathname === &#39;/login&#39;) {</span></span>
<span class="line"><span>            return &lt;Navigate to=&quot;/&quot; replace /&gt;</span></span>
<span class="line"><span>        } else {</span></span>
<span class="line"><span>            return &lt;&gt;{children}&lt;/&gt;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    } else {</span></span>
<span class="line"><span>        // 未登录</span></span>
<span class="line"><span>        if (location.pathname === &#39;/login&#39;) {</span></span>
<span class="line"><span>            return &lt;&gt;{children}&lt;/&gt;</span></span>
<span class="line"><span>        } else {</span></span>
<span class="line"><span>            return &lt;Navigate to=&quot;/login&quot; replace /&gt;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export default Auth</span></span></code></pre></div><h2 id="路由传参" tabindex="-1">路由传参 <a class="header-anchor" href="#路由传参" aria-label="Permalink to &quot;路由传参&quot;">​</a></h2><h4 id="usesearchparams" tabindex="-1">useSearchParams <a class="header-anchor" href="#usesearchparams" aria-label="Permalink to &quot;useSearchParams&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import { useNavigate } from &#39;react-router-dom&#39;</span></span>
<span class="line"><span>const navigate = useNavigate()</span></span>
<span class="line"><span>// 跳转页面</span></span>
<span class="line"><span>function jumpPage() {</span></span>
<span class="line"><span>  // navigate(&#39;/demo?a=20&#39;)</span></span>
<span class="line"><span>  // 或</span></span>
<span class="line"><span>  navigate({</span></span>
<span class="line"><span>    pathname: &#39;/demo&#39;,</span></span>
<span class="line"><span>    search: &#39;a=20&#39;</span></span>
<span class="line"><span>  })</span></span>
<span class="line"><span>  // navigate(-1) // 返回上一页</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 获取</span></span>
<span class="line"><span>import { useSearchParams } from &quot;react-router-dom&quot;</span></span>
<span class="line"><span>function Demo() {</span></span>
<span class="line"><span>    let [searchParams] = useSearchParams();</span></span>
<span class="line"><span>    console.log(searchParams.get(&#39;a&#39;))</span></span>
<span class="line"><span>    ...</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="useparams" tabindex="-1">useParams <a class="header-anchor" href="#useparams" aria-label="Permalink to &quot;useParams&quot;">​</a></h4><p>获取动态参数</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;Link to=&quot;/manage/edit/666&quot;&gt;跳转到ManageEdit&lt;/Link&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>import React, { FC } from &#39;react&#39;</span></span>
<span class="line"><span>import { useParams } from &#39;react-router-dom&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const ManageEdit: FC = () =&gt; {</span></span>
<span class="line"><span>  const { id } = useParams()</span></span>
<span class="line"><span>  return (</span></span>
<span class="line"><span>    &lt;div&gt;</span></span>
<span class="line"><span>      &lt;h1&gt;ManageEdit - {id}&lt;/h1&gt;</span></span>
<span class="line"><span>    &lt;/div&gt;</span></span>
<span class="line"><span>  )</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export default ManageEdit</span></span></code></pre></div><h4 id="uselocation" tabindex="-1">useLocation <a class="header-anchor" href="#uselocation" aria-label="Permalink to &quot;useLocation&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>// 携带参数</span></span>
<span class="line"><span>&lt;Link to=&quot;/page1/111&quot; state={{txt:777}}&gt;go Page1&lt;/Link&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 获取</span></span>
<span class="line"><span>import { useLocation } from &quot;react-router-dom&quot;;</span></span>
<span class="line"><span>function Page1() {</span></span>
<span class="line"><span>  console.log(&#39;data:&#39;, useLocation().state.txt) // 777</span></span>
<span class="line"><span>  ...</span></span>
<span class="line"><span>}</span></span></code></pre></div><h2 id="layout" tabindex="-1">Layout <a class="header-anchor" href="#layout" aria-label="Permalink to &quot;Layout&quot;">​</a></h2><p>src/layouts/ManageLayout.tsx:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import React, { FC } from &#39;react&#39;</span></span>
<span class="line"><span>import { Outlet } from &#39;react-router-dom&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const ManageLayout: FC = () =&gt; {</span></span>
<span class="line"><span>  return (</span></span>
<span class="line"><span>    &lt;div&gt;</span></span>
<span class="line"><span>      &lt;h1&gt;---ManageLayout header---&lt;/h1&gt;</span></span>
<span class="line"><span>      &lt;div&gt;</span></span>
<span class="line"><span>        {/* 类似 vue 的 slot */}</span></span>
<span class="line"><span>        &lt;Outlet /&gt;</span></span>
<span class="line"><span>      &lt;/div&gt;</span></span>
<span class="line"><span>      &lt;h1&gt;---ManageLayout footer---&lt;/h1&gt;</span></span>
<span class="line"><span>    &lt;/div&gt;</span></span>
<span class="line"><span>  )</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export default ManageLayout</span></span></code></pre></div><p>router/index.tsx:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import ManageLayout from &#39;../layouts/ManageLayout&#39;</span></span>
<span class="line"><span>import Home from &#39;../pages/Home&#39;</span></span>
<span class="line"><span>import Demo from &#39;../pages/Demo&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const router = createBrowserRouter([</span></span>
<span class="line"><span>  {</span></span>
<span class="line"><span>    path: &#39;/&#39;,</span></span>
<span class="line"><span>    element: &lt;ManageLayout /&gt;,</span></span>
<span class="line"><span>    children: [</span></span>
<span class="line"><span>      {</span></span>
<span class="line"><span>        path: &#39;/&#39;,</span></span>
<span class="line"><span>        element: &lt;Home /&gt;</span></span>
<span class="line"><span>      },</span></span>
<span class="line"><span>      {</span></span>
<span class="line"><span>        path: &#39;demo&#39;,</span></span>
<span class="line"><span>        element: &lt;Demo /&gt;</span></span>
<span class="line"><span>      }</span></span>
<span class="line"><span>    ]</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>])</span></span></code></pre></div><p><img src="`+o+`" alt="alt text"></p><h2 id="样式使用" tabindex="-1">样式使用 <a class="header-anchor" href="#样式使用" aria-label="Permalink to &quot;样式使用&quot;">​</a></h2><h4 id="直接在-js-文件中引入样式文件" tabindex="-1">直接在 JS 文件中引入样式文件 <a class="header-anchor" href="#直接在-js-文件中引入样式文件" aria-label="Permalink to &quot;直接在 JS 文件中引入样式文件&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import &#39;./App.css&#39;;</span></span></code></pre></div><h4 id="inline-样式" tabindex="-1">inline 样式 <a class="header-anchor" href="#inline-样式" aria-label="Permalink to &quot;inline 样式&quot;">​</a></h4><p>style 是对象形式,其中的key是驼峰式</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>const divStyle = {</span></span>
<span class="line"><span>  color: &#39;red&#39;,</span></span>
<span class="line"><span>  marginBottom: &#39;10px&#39;</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span></span></span>
<span class="line"><span>return &lt;div style={divStyle}&gt;content&lt;/div&gt;</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;div style={{ cursor: &#39;pointer&#39;,marginTop: &#39;50px&#39; }}&gt;</span></span>
<span class="line"><span>  内容</span></span>
<span class="line"><span>&lt;/div&gt;</span></span></code></pre></div><h2 id="使用-scss" tabindex="-1">使用 scss <a class="header-anchor" href="#使用-scss" aria-label="Permalink to &quot;使用 scss&quot;">​</a></h2><p>create-react-app 原生支持 sass module，只需要安装</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>npm i sass -D</span></span></code></pre></div><h2 id="css-module" tabindex="-1">CSS Module <a class="header-anchor" href="#css-module" aria-label="Permalink to &quot;CSS Module&quot;">​</a></h2><p>解决className可能重复的问题； create-react-app 内置了对 CSS Module 的支持。</p><p>‌1.更改文件名 ‌</p><p>将 CSS 文件名从 styles.css 更改为 styles.module.css</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>.color-yellow {</span></span>
<span class="line"><span>  color: #FFF766;</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>2.引入样式 ‌</p><p>在组件文件中，使用 ES6 模块语法引入样式文件</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import styles from &#39;./styles.module.css&#39;;</span></span></code></pre></div><p>‌3.使用样式 ‌</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;div className={styles[&#39;color-yellow&#39;]}&gt;</span></span></code></pre></div><h2 id="状态管理-redux" tabindex="-1">状态管理 Redux <a class="header-anchor" href="#状态管理-redux" aria-label="Permalink to &quot;状态管理 Redux&quot;">​</a></h2><h4 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>npm install @reduxjs/toolkit react-redux -S</span></span></code></pre></div><h4 id="为-react-提供-redux-store" tabindex="-1">为 React 提供 Redux Store <a class="header-anchor" href="#为-react-提供-redux-store" aria-label="Permalink to &quot;为 React 提供 Redux Store&quot;">​</a></h4><p>index.js:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import store from &#39;./store/index.js&#39;</span></span>
<span class="line"><span>import { Provider } from &#39;react-redux&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const root = ReactDOM.createRoot(document.getElementById(&#39;root&#39;));</span></span>
<span class="line"><span>root.render(</span></span>
<span class="line"><span>  &lt;React.StrictMode&gt;</span></span>
<span class="line"><span>    &lt;Provider store={store}&gt;</span></span>
<span class="line"><span>        &lt;App /&gt;</span></span>
<span class="line"><span>    &lt;/Provider&gt;</span></span>
<span class="line"><span>  &lt;/React.StrictMode&gt;</span></span>
<span class="line"><span>);</span></span></code></pre></div><h4 id="创建-redux-state-slice" tabindex="-1">创建 Redux State Slice <a class="header-anchor" href="#创建-redux-state-slice" aria-label="Permalink to &quot;创建 Redux State Slice&quot;">​</a></h4><p>store/counterSlice.js:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import { createSlice } from &#39;@reduxjs/toolkit&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export const counterSlice = createSlice({</span></span>
<span class="line"><span>  name: &#39;counter&#39;,</span></span>
<span class="line"><span>  initialState: {</span></span>
<span class="line"><span>    value: 0</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>  reducers: {</span></span>
<span class="line"><span>    increment: state =&gt; {</span></span>
<span class="line"><span>      state.value += 1</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    decrement: state =&gt; {</span></span>
<span class="line"><span>      state.value -= 1</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    incrementByAmount: (state, action) =&gt; {</span></span>
<span class="line"><span>      state.value += action.payload</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export const { increment, decrement, incrementByAmount } = counterSlice.actions</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export default counterSlice.reducer</span></span></code></pre></div><h4 id="将-slice-reducers-添加到-redux-store-中" tabindex="-1">将 Slice Reducers 添加到 Redux Store 中 <a class="header-anchor" href="#将-slice-reducers-添加到-redux-store-中" aria-label="Permalink to &quot;将 Slice Reducers 添加到 Redux Store 中&quot;">​</a></h4><p>store/index.js:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import { configureStore } from &#39;@reduxjs/toolkit&#39;</span></span>
<span class="line"><span>import counterReducer from &#39;./counterSlice&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export default configureStore({</span></span>
<span class="line"><span>  reducer: {</span></span>
<span class="line"><span>    counter: counterReducer</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>})</span></span></code></pre></div><h4 id="在-react-组件中使用-redux-状态和操作" tabindex="-1">在 React 组件中使用 Redux 状态和操作 <a class="header-anchor" href="#在-react-组件中使用-redux-状态和操作" aria-label="Permalink to &quot;在 React 组件中使用 Redux 状态和操作&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import { useSelector, useDispatch } from &#39;react-redux&#39;</span></span>
<span class="line"><span>import { decrement, increment, incrementByAmount } from &#39;../store/counterSlice&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>function Page2() {</span></span>
<span class="line"><span>  const count = useSelector(state =&gt; state.counter.value)</span></span>
<span class="line"><span>  const dispatch = useDispatch()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    return &lt;div&gt;</span></span>
<span class="line"><span>      &lt;main&gt;Welcome to Page2&lt;/main&gt;</span></span>
<span class="line"><span>      &lt;div&gt;{count}&lt;/div&gt;</span></span>
<span class="line"><span>      &lt;div&gt;</span></span>
<span class="line"><span>        &lt;button</span></span>
<span class="line"><span>          onClick={() =&gt; dispatch(increment())}</span></span>
<span class="line"><span>        &gt;</span></span>
<span class="line"><span>          Increment</span></span>
<span class="line"><span>        &lt;/button&gt;</span></span>
<span class="line"><span>        &lt;button</span></span>
<span class="line"><span>          onClick={() =&gt; dispatch(incrementByAmount(5))}</span></span>
<span class="line"><span>        &gt;</span></span>
<span class="line"><span>          Increment 5</span></span>
<span class="line"><span>        &lt;/button&gt;</span></span>
<span class="line"><span>        &lt;button</span></span>
<span class="line"><span>          onClick={() =&gt; dispatch(decrement())}</span></span>
<span class="line"><span>        &gt;</span></span>
<span class="line"><span>          Decrement</span></span>
<span class="line"><span>        &lt;/button&gt;</span></span>
<span class="line"><span>      &lt;/div&gt;</span></span>
<span class="line"><span>    &lt;/div&gt;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export default Page2;</span></span></code></pre></div><h4 id="页面效果" tabindex="-1">页面效果 <a class="header-anchor" href="#页面效果" aria-label="Permalink to &quot;页面效果&quot;">​</a></h4><p><img src="`+r+`" alt="alt text"></p><h2 id="配置多环境" tabindex="-1">配置多环境 <a class="header-anchor" href="#配置多环境" aria-label="Permalink to &quot;配置多环境&quot;">​</a></h2><p>Create React App 搭建的项目，npm run start 指向 development，npm run build 指向 production，通过 process.env.NODE_ENV 获取。</p><h4 id="第一种方式-使用-cross-env" tabindex="-1">第一种方式：使用 cross-env <a class="header-anchor" href="#第一种方式-使用-cross-env" aria-label="Permalink to &quot;第一种方式：使用 cross-env&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>// 安装 cross-env</span></span>
<span class="line"><span>npm i cross-env -D</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 配置不同环境命令，REACT_APP_开头</span></span>
<span class="line"><span>&quot;build:release&quot;: &quot;cross-env REACT_APP_ENV=release react-scripts build&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 获取</span></span>
<span class="line"><span>process.env.REACT_APP_ENV // release</span></span></code></pre></div><h4 id="第二种方式-使用-dotenv" tabindex="-1">第二种方式：使用 dotenv <a class="header-anchor" href="#第二种方式-使用-dotenv" aria-label="Permalink to &quot;第二种方式：使用 dotenv&quot;">​</a></h4><p>安装</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>npm install dotenv-cli -D</span></span></code></pre></div><p>自定义环境变量名</p><p><img src="`+d+`" alt="alt text"></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>// 配置</span></span>
<span class="line"><span>&quot;start&quot;: &quot;dotenv -e .env.release react-scripts start&quot;,</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 获取</span></span>
<span class="line"><span>process.env.REACT_APP_ENV // release</span></span></code></pre></div><h2 id="异步请求-axios" tabindex="-1">异步请求 axios <a class="header-anchor" href="#异步请求-axios" aria-label="Permalink to &quot;异步请求 axios&quot;">​</a></h2><p>安装</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>npm i axios</span></span></code></pre></div><p>config.js:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>// 不同环境接口地址</span></span>
<span class="line"><span>const apiList = {</span></span>
<span class="line"><span>    development: &quot;https://www.dev.com/&quot;,</span></span>
<span class="line"><span>    production: &quot;https://www.prod.com/&quot;,</span></span>
<span class="line"><span>    release: &quot;https://www.release.com/&quot;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>const env = process.env.REACT_APP_ENV</span></span>
<span class="line"><span>export const baseUrl = apiList[env]</span></span></code></pre></div><p>axios.js:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import axios from &#39;axios&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>import { baseUrl } from &#39;./config&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 创建axios实例</span></span>
<span class="line"><span>const service = axios.create({</span></span>
<span class="line"><span>  baseURL: baseUrl,</span></span>
<span class="line"><span>  timeout: 30000 // 请求超时时间</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 请求拦截器</span></span>
<span class="line"><span>service.interceptors.request.use(</span></span>
<span class="line"><span>  config =&gt; {</span></span>
<span class="line"><span>    // config.headers[&#39;token&#39;] = &#39;&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    return config</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>  error =&gt; {</span></span>
<span class="line"><span>    // 请求失败</span></span>
<span class="line"><span>    return error</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 响应拦截器</span></span>
<span class="line"><span>service.interceptors.response.use(</span></span>
<span class="line"><span>  response =&gt; {</span></span>
<span class="line"><span>    const res = response.data || {}</span></span>
<span class="line"><span>    if (res.code !== 200) {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    return res</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>  // 处理错误响应</span></span>
<span class="line"><span>  error =&gt; {</span></span>
<span class="line"><span>    if (error.response &amp;&amp; error.response.status === 401) {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    } else if (error.response &amp;&amp; error.response.status === 403) {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    return Promise.reject(error)</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export default service</span></span></code></pre></div><p>api.js:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import request from &#39;../axios/index&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export function getInitData(data) {</span></span>
<span class="line"><span>  return request({</span></span>
<span class="line"><span>    url: &#39;/data&#39;,</span></span>
<span class="line"><span>    method: &#39;get&#39;,</span></span>
<span class="line"><span>    params: data</span></span>
<span class="line"><span>  })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export function setInitData(data) {</span></span>
<span class="line"><span>  return request({</span></span>
<span class="line"><span>    url: &#39;/setdata&#39;,</span></span>
<span class="line"><span>    method: &#39;post&#39;,</span></span>
<span class="line"><span>    data</span></span>
<span class="line"><span>  })</span></span>
<span class="line"><span>}</span></span></code></pre></div><h2 id="受控组件" tabindex="-1">受控组件 <a class="header-anchor" href="#受控组件" aria-label="Permalink to &quot;受控组件&quot;">​</a></h2><p>受控组件：值同步到 state，使用 value 属性</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>const [text, setText] = useState(&#39;hello&#39;)</span></span>
<span class="line"><span>function changeText(e: ChangeEvent&lt;HTMLInputElement&gt;) {</span></span>
<span class="line"><span>  setText(e.target.value)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;input type=&quot;text&quot; onChange={changeText} value={text} /&gt;</span></span>
<span class="line"><span>&lt;button onClick={() =&gt; console.log(text)}&gt;打印input值&lt;/button&gt;</span></span></code></pre></div><p>非受控组件：值不同步 state，使用 defaultValue 属性</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;input type=&quot;text&quot; defaultValue=&quot;hello world&quot; /&gt;</span></span></code></pre></div><p>defaultValue 显示在页面中，但无法获取到</p><h2 id="父子组件交互" tabindex="-1">父子组件交互 <a class="header-anchor" href="#父子组件交互" aria-label="Permalink to &quot;父子组件交互&quot;">​</a></h2><p>父组件：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import Button from &#39;../components/button&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>function Page1() {</span></span>
<span class="line"><span>  const buttonObj = {</span></span>
<span class="line"><span>    title: &#39;点击按钮&#39;,</span></span>
<span class="line"><span>    bgColor: &#39;red&#39;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  // 点击子组件按钮时触发</span></span>
<span class="line"><span>  function handleChildFn(msg) {</span></span>
<span class="line"><span>    console.log(&#39;父组件接收消息：&#39;, msg)</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  return &lt;div&gt;</span></span>
<span class="line"><span>    {/* &lt;Button title={buttonObj.title} bgColor={buttonObj.bgColor} /&gt; */}</span></span>
<span class="line"><span>    &lt;Button {...buttonObj} onMessageChange={handleChildFn} /&gt;</span></span>
<span class="line"><span>  &lt;/div&gt;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export default Page1;</span></span></code></pre></div><p>子组件：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>function Button(props) {</span></span>
<span class="line"><span>  const buttonStyle = {</span></span>
<span class="line"><span>    padding: &#39;5px 10px&#39;,</span></span>
<span class="line"><span>    fontSize: &#39;16px&#39;,</span></span>
<span class="line"><span>    lineHeight: &#39;16px&#39;,</span></span>
<span class="line"><span>    border: &#39;1px solid #ccc&#39;,</span></span>
<span class="line"><span>    borderRadius: &#39;4px&#39;,</span></span>
<span class="line"><span>    cursor: &#39;pointer&#39;,</span></span>
<span class="line"><span>    marginTop: &#39;15px&#39;,</span></span>
<span class="line"><span>    backgroundColor: props.bgColor</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>  function clickFn() {</span></span>
<span class="line"><span>    props.onMessageChange(&#39;来自子组件&#39;)</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  return &lt;div style={buttonStyle} onClick={clickFn}&gt;</span></span>
<span class="line"><span>    &lt;span&gt;{props.title}&lt;/span&gt;</span></span>
<span class="line"><span>  &lt;/div&gt;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export default Button;</span></span></code></pre></div><h2 id="react-hooks" tabindex="-1">React Hooks <a class="header-anchor" href="#react-hooks" aria-label="Permalink to &quot;React Hooks&quot;">​</a></h2><p>使函数式组件能够拥有类组件的一些特性，例如状态管理和生命周期方法的使用。</p><p>hooks 使用规则：</p><ol><li>必须使用 useXXX 格式命名</li><li>只能在 函数式组件内或其他hook 内调用</li><li>每次的调用顺序一致（不能放在for、if 内）</li></ol><h4 id="usestate" tabindex="-1">useState <a class="header-anchor" href="#usestate" aria-label="Permalink to &quot;useState&quot;">​</a></h4><p>向组件添加状态变量</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>const [count, setCount] = useState(0);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// setCount(count + 1) // 这种写法多次执行count只累加一次（合并更新）</span></span>
<span class="line"><span>// 或</span></span>
<span class="line"><span>setCount((count) =&gt; count + 1) // 如果页面中 count 是 6</span></span>
<span class="line"><span>console.log(count) // 那这里是 5，异步更新无法直接拿到最新的 state 值</span></span>
<span class="line"><span>// 如果 state 不用于 JSX 中显示，那就不要用 useState，用 useRef</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// state 是不可变数据</span></span>
<span class="line"><span>// 对象-传入新值</span></span>
<span class="line"><span>setUserInfo({</span></span>
<span class="line"><span>  ...userInfo,</span></span>
<span class="line"><span>  age: 21</span></span>
<span class="line"><span>})</span></span>
<span class="line"><span>// 数组-传入新值</span></span>
<span class="line"><span>setList(list.concat(&#39;z&#39;)) // concat 能返回新数组</span></span>
<span class="line"><span>// 或</span></span>
<span class="line"><span>setList([...list, &#39;z&#39;])</span></span></code></pre></div><blockquote><p>可以使用 <strong>immer</strong> 修改 state 不可变数据</p></blockquote><h4 id="useeffect" tabindex="-1">useEffect <a class="header-anchor" href="#useeffect" aria-label="Permalink to &quot;useEffect&quot;">​</a></h4><p>在组件渲染到屏幕之后异步执行。这意味着它不会阻塞浏览器的绘制和更新，适用于大多数不会直接影响页面布局和视觉呈现的操作，用于执行副作用操作，如数据获取、事件监听等‌，它与类组件中的 componentDidMount、componentDidUpdate 和 componentWillUnmount 生命周期类似。</p>`,114),b=s(`<div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>useEffect(() =&gt; {</span></span>
<span class="line"><span>  const connection = createConnection(serverUrl, roomId);</span></span>
<span class="line"><span>  connection.connect();</span></span>
<span class="line"><span>  return () =&gt; {</span></span>
<span class="line"><span>    // 清理操作</span></span>
<span class="line"><span>    connection.disconnect();</span></span>
<span class="line"><span>  };</span></span>
<span class="line"><span>}, [serverUrl, roomId]);</span></span></code></pre></div><ul><li>‌不传第二个参数‌：监测所有状态和属性，任何变化都会触发副作用函数。</li><li>‌第二个参数为空数组‌（[]）：表示不监测任何依赖项，副作用函数仅在组件挂载和卸载时执行一次。</li><li>‌第二个参数为具体依赖项数组‌：只有数组中的依赖项（任意一个）发生变化时，副作用函数才会重新执行。</li></ul><h4 id="uselayouteffect‌" tabindex="-1">useLayoutEffect‌ <a class="header-anchor" href="#uselayouteffect‌" aria-label="Permalink to &quot;useLayoutEffect‌&quot;">​</a></h4><p>同步执行，会在DOM更新后、浏览器绘制之前进行操作，适用于那些需要直接修改DOM样式或结构以避免页面重绘和回流的操作‌。</p><h4 id="useref" tabindex="-1">useRef <a class="header-anchor" href="#useref" aria-label="Permalink to &quot;useRef&quot;">​</a></h4><p>访问 DOM 元素或保存不触发渲染的变量</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>const divRef = useRef(null);</span></span>
<span class="line"><span>let count = useRef(0);</span></span>
<span class="line"><span>useEffect(() =&gt; {</span></span>
<span class="line"><span>  console.log(&#39;divRef.current: &#39;, divRef.current)</span></span>
<span class="line"><span>}, [])</span></span>
<span class="line"><span>function clickFn() {</span></span>
<span class="line"><span>  count.current = count.current + 1;</span></span>
<span class="line"><span>  console.log(&#39;count:&#39;, count.current)</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>return &lt;div ref={divRef} onClick={clickFn}</span></span>
<span class="line"><span>    &lt;/div&gt;</span></span></code></pre></div><h4 id="usecontext" tabindex="-1">useContext <a class="header-anchor" href="#usecontext" aria-label="Permalink to &quot;useContext&quot;">​</a></h4><p>访问 React context 在组件树中传递的数据，而不必通过每个组件传递 props。</p><p>ThemeContext.js</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import { createContext } from &#39;react&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 默认值 &#39;light&#39;</span></span>
<span class="line"><span>export const ThemeContext = createContext(&#39;light&#39;)</span></span></code></pre></div><p>在顶层用 Provider 提供状态:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import { useState } from &#39;react&#39;</span></span>
<span class="line"><span>import { ThemeContext } from &#39;./ThemeContext&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>function App() {</span></span>
<span class="line"><span>const [theme, setTheme] = useState(&#39;light&#39;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>return (</span></span>
<span class="line"><span>    &lt;ThemeContext.Provider value={theme}&gt;</span></span>
<span class="line"><span>      ...</span></span>
<span class="line"><span>      &lt;button onClick={() =&gt; setTheme(theme === &#39;light&#39; ? &#39;dark&#39; : &#39;light&#39;)}&gt;</span></span>
<span class="line"><span>        切换主题</span></span>
<span class="line"><span>      &lt;/button&gt;</span></span>
<span class="line"><span>    &lt;/ThemeContext.Provider&gt;</span></span>
<span class="line"><span>  );</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export default App</span></span></code></pre></div><p>在子组件中使用 useContext 获取状态：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import { useContext } from &#39;react&#39;</span></span>
<span class="line"><span>import { ThemeContext } from &#39;../ThemeContext&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>const Child = () =&gt; {</span></span>
<span class="line"><span>  const theme = useContext(ThemeContext)</span></span>
<span class="line"><span>  return (</span></span>
<span class="line"><span>    &lt;div&gt;</span></span>
<span class="line"><span>      当前主题: {theme}</span></span>
<span class="line"><span>    &lt;/div&gt;</span></span>
<span class="line"><span>  );</span></span>
<span class="line"><span>};</span></span></code></pre></div><h4 id="usereducer" tabindex="-1">useReducer <a class="header-anchor" href="#usereducer" aria-label="Permalink to &quot;useReducer&quot;">​</a></h4><p>useState 的替代方案，适用于管理复杂和大型的状态逻辑。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>function Counter() {</span></span>
<span class="line"><span>  const reducer = (state, action) =&gt; {</span></span>
<span class="line"><span>    switch (action.type) {</span></span>
<span class="line"><span>      case &#39;increment&#39;:</span></span>
<span class="line"><span>        return {count: state.count + 1}</span></span>
<span class="line"><span>      case &#39;decrement&#39;:</span></span>
<span class="line"><span>        return {count: state.count - 1}</span></span>
<span class="line"><span>      default:</span></span>
<span class="line"><span>        throw new Error()</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  const [state, dispatch] = useReducer(reducer, {count: 0})</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  return (</span></span>
<span class="line"><span>    &lt;&gt;</span></span>
<span class="line"><span>      &lt;p&gt;您点击了 {state.count} 次&lt;/p&gt;</span></span>
<span class="line"><span>      &lt;Button variant=&quot;outlined&quot; onClick={() =&gt; dispatch({type: &#39;decrement&#39;})}&gt;递减&lt;/Button&gt;</span></span>
<span class="line"><span>      &lt;Button variant=&quot;outlined&quot; onClick={() =&gt; dispatch({type: &#39;increment&#39;})} style={{marginLeft: 15}}&gt;递增&lt;/Button&gt;</span></span>
<span class="line"><span>    &lt;/&gt;</span></span>
<span class="line"><span>  )}</span></span></code></pre></div><h4 id="usememo" tabindex="-1">useMemo <a class="header-anchor" href="#usememo" aria-label="Permalink to &quot;useMemo&quot;">​</a></h4><p>用于缓存计算结果，避免在每次渲染时重复计算‌。（类似于Vue中的computed属性）</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>const filteredItems = useMemo(() =&gt; {</span></span>
<span class="line"><span>  return items.filter(item =&gt; item.includes(value))</span></span>
<span class="line"><span>}, [items, value]); // 依赖变化时重新计算</span></span></code></pre></div><h4 id="usecallback" tabindex="-1">useCallback <a class="header-anchor" href="#usecallback" aria-label="Permalink to &quot;useCallback&quot;">​</a></h4><p>用于记忆化回调函数，避免在每次渲染时重新创建函数‌。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>const handleClick = useCallback(() =&gt; {</span></span>
<span class="line"><span>  ...</span></span>
<span class="line"><span>}, []) // 依赖数组为空表示函数不变化</span></span></code></pre></div><h4 id="useimperativehandle" tabindex="-1">useImperativeHandle <a class="header-anchor" href="#useimperativehandle" aria-label="Permalink to &quot;useImperativeHandle&quot;">​</a></h4><p>用于暴露子组件的属性和方法，实现父组件对子组件的控制</p><p>myInput.js</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import { forwardRef, useRef, useImperativeHandle } from &#39;react&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 需要结合 forwardRef 使用</span></span>
<span class="line"><span>const MyInput = forwardRef((props:any, ref:any) =&gt; {</span></span>
<span class="line"><span>  const inputRef = useRef&lt;HTMLInputElement&gt;(null);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  useImperativeHandle(ref, () =&gt; ({</span></span>
<span class="line"><span>    focus: ()=&gt; {</span></span>
<span class="line"><span>      inputRef.current?.focus();</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>    testValue: 123</span></span>
<span class="line"><span>  }));</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  return (&lt;input {...props} ref={inputRef} /&gt;)</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export default MyInput;</span></span></code></pre></div><p>父组件：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>const compRef = useRef&lt;any&gt;(null);</span></span>
<span class="line"><span>function buttonClick() {</span></span>
<span class="line"><span>  if (compRef.current !== null) {</span></span>
<span class="line"><span>    compRef.current.focus();</span></span>
<span class="line"><span>    console.log(compRef.current.testValue)</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>&lt;form&gt;</span></span>
<span class="line"><span>  &lt;MyInput placeholder=&#39;please input&#39; ref={compRef} /&gt;</span></span>
<span class="line"><span>  &lt;button type=&quot;button&quot; onClick={buttonClick}&gt; Edit &lt;/button&gt;</span></span>
<span class="line"><span>&lt;/form&gt;</span></span></code></pre></div><h4 id="usetransition" tabindex="-1">useTransition <a class="header-anchor" href="#usetransition" aria-label="Permalink to &quot;useTransition&quot;">​</a></h4><p>useTransition 是在不阻塞 UI 的情况下更新状态的 React Hook。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>const [isPending, startTransition] = useTransition()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 紧急更新: 显示输入的内容</span></span>
<span class="line"><span>setInputValue(input);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>startTransition(() =&gt; {</span></span>
<span class="line"><span>  // 过渡更新: 展示结果（低优先级，防止页面卡顿的情况）</span></span>
<span class="line"><span>  setResultList(input);</span></span>
<span class="line"><span>});</span></span></code></pre></div><p><img src="`+u+'" alt="alt text"><img src="'+h+`" alt="alt text"></p><h4 id="usedeferredvalue" tabindex="-1">useDeferredValue <a class="header-anchor" href="#usedeferredvalue" aria-label="Permalink to &quot;useDeferredValue&quot;">​</a></h4><p>延迟更新 UI 的某些部分。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>const deferredValue = useDeferredValue(value)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;SearchResults query={deferredValue} /&gt;</span></span></code></pre></div><h3 id="自定义-hooks" tabindex="-1">自定义 hooks <a class="header-anchor" href="#自定义-hooks" aria-label="Permalink to &quot;自定义 hooks&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import { useState, useEffect, useCallback } from &#39;react&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 获取鼠标位置</span></span>
<span class="line"><span>export function useMouse() {</span></span>
<span class="line"><span>  const [x, setX] = useState(0)</span></span>
<span class="line"><span>  const [y, setY] = useState(0)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  const updateMouse = useCallback((e: MouseEvent) =&gt; {</span></span>
<span class="line"><span>    setX(e.clientX)</span></span>
<span class="line"><span>    setY(e.clientY)</span></span>
<span class="line"><span>  }, [])</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  useEffect(() =&gt; {</span></span>
<span class="line"><span>    window.addEventListener(&#39;mousemove&#39;, updateMouse)</span></span>
<span class="line"><span>    return () =&gt; {</span></span>
<span class="line"><span>      window.removeEventListener(&#39;mousemove&#39;, updateMouse)</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  }, [])</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  return { x, y }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 模拟异步数据</span></span>
<span class="line"><span>function getInfo(): Promise&lt;string&gt; {</span></span>
<span class="line"><span>  return new Promise((resolve) =&gt; {</span></span>
<span class="line"><span>    setTimeout(() =&gt; {</span></span>
<span class="line"><span>      resolve(Date.now().toString())</span></span>
<span class="line"><span>    }, 1500)</span></span>
<span class="line"><span>  })</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>export function useGetInfo() {</span></span>
<span class="line"><span>  const [loading, setLoading] = useState(true)</span></span>
<span class="line"><span>  const [info, setInfo] = useState(&#39;&#39;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  useEffect(() =&gt; {</span></span>
<span class="line"><span>    getInfo().then((res) =&gt; {</span></span>
<span class="line"><span>      setLoading(false)</span></span>
<span class="line"><span>      setInfo(res)</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>  }, [])</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  return {</span></span>
<span class="line"><span>    loading,</span></span>
<span class="line"><span>    info</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// 引用</span></span>
<span class="line"><span>import { useMouse, useGetInfo } from &#39;./hook&#39;</span></span>
<span class="line"><span>const { x, y } = useMouse()</span></span>
<span class="line"><span>const { loading, info } = useGetInfo()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;div&gt;</span></span>
<span class="line"><span>  &lt;div&gt;鼠标位置：{x},{y}&lt;/div&gt;</span></span>
<span class="line"><span>  &lt;div&gt;{loading ? &#39;加载中&#39; : info}&lt;/div&gt;</span></span>
<span class="line"><span>&lt;/div&gt;</span></span></code></pre></div><h3 id="第三方-hooks" tabindex="-1">第三方 hooks <a class="header-anchor" href="#第三方-hooks" aria-label="Permalink to &quot;第三方 hooks&quot;">​</a></h3><p><a href="https://ahooks.js.org/zh-CN" target="_blank" rel="noreferrer">https://ahooks.js.org/zh-CN</a></p><p><a href="https://github.com/streamich/react-use" target="_blank" rel="noreferrer">https://github.com/streamich/react-use</a></p><h2 id="tailwind-css" tabindex="-1">Tailwind CSS <a class="header-anchor" href="#tailwind-css" aria-label="Permalink to &quot;Tailwind CSS&quot;">​</a></h2><h4 id="安装-1" tabindex="-1">安装 <a class="header-anchor" href="#安装-1" aria-label="Permalink to &quot;安装&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>npm install tailwindcss postcss autoprefixer -D</span></span></code></pre></div><h4 id="npx-tailwindcss-init" tabindex="-1">npx tailwindcss init <a class="header-anchor" href="#npx-tailwindcss-init" aria-label="Permalink to &quot;npx tailwindcss init&quot;">​</a></h4><p>生成 tailwind.config.js 并编辑</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/** @type {import(&#39;tailwindcss&#39;).Config} */</span></span>
<span class="line"><span>module.exports = {</span></span>
<span class="line"><span>  content: [&quot;./src/**/*.{js,jsx,ts,tsx}&quot;],</span></span>
<span class="line"><span>  theme: {</span></span>
<span class="line"><span>    extend: {},</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>  plugins: [],</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="项目引入-tailwindcss" tabindex="-1">项目引入 tailwindcss <a class="header-anchor" href="#项目引入-tailwindcss" aria-label="Permalink to &quot;项目引入 tailwindcss&quot;">​</a></h4><p>tailwind.css：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>@tailwind base;</span></span>
<span class="line"><span>@tailwind components;</span></span>
<span class="line"><span>@tailwind utilities;</span></span></code></pre></div><h4 id="新增-postcss-config-js" tabindex="-1">新增 postcss.config.js <a class="header-anchor" href="#新增-postcss-config-js" aria-label="Permalink to &quot;新增 postcss.config.js&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>module.exports = {</span></span>
<span class="line"><span>  plugins: {</span></span>
<span class="line"><span>    tailwindcss: {},</span></span>
<span class="line"><span>    autoprefixer: {},</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="组件中使用" tabindex="-1">组件中使用 <a class="header-anchor" href="#组件中使用" aria-label="Permalink to &quot;组件中使用&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>div className=&quot;flex&quot;&gt;</span></span>
<span class="line"><span>  &lt;p&gt;内容&lt;/p&gt;</span></span>
<span class="line"><span>  &lt;p className=&quot;flex-1&quot;&gt;显示&lt;/p&gt;</span></span>
<span class="line"><span>&lt;/div&gt;</span></span></code></pre></div><h2 id="ant-design" tabindex="-1">Ant Design <a class="header-anchor" href="#ant-design" aria-label="Permalink to &quot;Ant Design&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>npm install antd</span></span>
<span class="line"><span></span></span>
<span class="line"><span>import { Button } from &#39;antd&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;Button type=&quot;primary&quot;&gt;Primary Button&lt;/Button&gt;</span></span></code></pre></div><h2 id="typescript" tabindex="-1">TypeScript <a class="header-anchor" href="#typescript" aria-label="Permalink to &quot;TypeScript&quot;">​</a></h2><p>安装：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>npm install --save typescript @types/node @types/react @types/react-dom @types/jest</span></span></code></pre></div><p>tsconfig.json:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>{</span></span>
<span class="line"><span>  &quot;compilerOptions&quot;: {</span></span>
<span class="line"><span>    &quot;target&quot;: &quot;es5&quot;,</span></span>
<span class="line"><span>    &quot;lib&quot;: [</span></span>
<span class="line"><span>      &quot;dom&quot;,</span></span>
<span class="line"><span>      &quot;dom.iterable&quot;,</span></span>
<span class="line"><span>      &quot;esnext&quot;</span></span>
<span class="line"><span>    ],</span></span>
<span class="line"><span>    &quot;allowJs&quot;: true,</span></span>
<span class="line"><span>    &quot;skipLibCheck&quot;: true,</span></span>
<span class="line"><span>    &quot;esModuleInterop&quot;: true,</span></span>
<span class="line"><span>    &quot;allowSyntheticDefaultImports&quot;: true,</span></span>
<span class="line"><span>    &quot;strict&quot;: true,</span></span>
<span class="line"><span>    &quot;forceConsistentCasingInFileNames&quot;: true,</span></span>
<span class="line"><span>    &quot;noFallthroughCasesInSwitch&quot;: true,</span></span>
<span class="line"><span>    &quot;module&quot;: &quot;esnext&quot;,</span></span>
<span class="line"><span>    &quot;moduleResolution&quot;: &quot;node&quot;,</span></span>
<span class="line"><span>    &quot;resolveJsonModule&quot;: true,</span></span>
<span class="line"><span>    &quot;isolatedModules&quot;: true,</span></span>
<span class="line"><span>    &quot;noEmit&quot;: true,</span></span>
<span class="line"><span>    &quot;jsx&quot;: &quot;react-jsx&quot;</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>  &quot;include&quot;: [</span></span>
<span class="line"><span>    &quot;src&quot;</span></span>
<span class="line"><span>  ]</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>声明文件 react-app-env.d.ts：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>declare module &#39;*.svg&#39; {</span></span>
<span class="line"><span>  import * as React from &#39;react&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  export const ReactComponent: React.FunctionComponent&lt;React.SVGProps&lt;</span></span>
<span class="line"><span>    SVGSVGElement</span></span>
<span class="line"><span>  &gt; &amp; { title?: string }&gt;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  const src: string;</span></span>
<span class="line"><span>  export default src;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>declare module &#39;*.module.scss&#39; {</span></span>
<span class="line"><span>  const classes: { readonly [key: string]: string };</span></span>
<span class="line"><span>  export default classes;</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>将文件重命名为 .tsx 或 .ts 文件</p>`,65);function v(f,k,x,q,y,C){const a=p("font");return i(),e("div",null,[m,t(a,{size:"2.5"},{default:l(()=>[c("注：react18 开始，useEffect 在开发环境下会执行两次，模拟组件创建、销毁、再创建的完整流程，及早暴露问题；生产环境下只执行一次。")]),_:1}),b])}const R=n(g,[["render",v]]);export{P as __pageData,R as default};
