import{_ as s,c as a,o as e,a3 as t}from"./chunks/framework.C5U8cnJv.js";const n="/xhh-blog/assets/image.DmFLlfJ7.png",v=JSON.parse('{"title":"git配置","description":"","frontmatter":{},"headers":[],"relativePath":"tool/git/git配置.md","filePath":"tool/git/git配置.md"}'),i={name:"tool/git/git配置.md"},p=t(`<h1 id="git配置" tabindex="-1">git配置 <a class="header-anchor" href="#git配置" aria-label="Permalink to &quot;git配置&quot;">​</a></h1><h3 id="一、查看ssh-key" tabindex="-1">一、查看SSH_Key <a class="header-anchor" href="#一、查看ssh-key" aria-label="Permalink to &quot;一、查看SSH_Key&quot;">​</a></h3><p>git bash 命令行</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ls -al ~/.ssh</span></span></code></pre></div><p>本地没有生成的SSH Key的话，顺序执行 如果存在，直接第四步</p><h3 id="二、生成新的ssh-key" tabindex="-1">二、生成新的SSH Key <a class="header-anchor" href="#二、生成新的ssh-key" aria-label="Permalink to &quot;二、生成新的SSH Key&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ssh-keygen -t rsa -C &quot;184243xxxx@qq.com&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ssh-keygen -t rsa -C &quot;184243xxxx@qq.com&quot; -f ~/.ssh/xx_id-rsa</span></span></code></pre></div><h3 id="三、生成并添加ssh-key" tabindex="-1">三、生成并添加SSH Key <a class="header-anchor" href="#三、生成并添加ssh-key" aria-label="Permalink to &quot;三、生成并添加SSH Key&quot;">​</a></h3><p>（默认只读取 id_rsa，为了让 SSH 识别新的私钥，需要将新的私钥加入到 SSH agent 中）</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ssh-add ~/.ssh/id_rsa</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ssh-add ~/.ssh/xx_id-rsa</span></span></code></pre></div><p>若执行ssh-add ~/.ssh/xx_id-rsa出现这个错误:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Could not open a connection to your authentication agent，</span></span></code></pre></div><p>则先执行如下命令即可：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ssh-agent bash</span></span></code></pre></div><h3 id="四、查看ssh-key" tabindex="-1">四、查看SSH Key <a class="header-anchor" href="#四、查看ssh-key" aria-label="Permalink to &quot;四、查看SSH Key&quot;">​</a></h3><p>Windows:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>cat /Users/xhh/.ssh</span></span></code></pre></div><p>Mac:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>cd ~/.ssh</span></span></code></pre></div><p>.ssh 目录下</p><p>复制生成好的SSH Key, 即 rsa 私钥文件里的内容（带.pub的是公钥）添加到 GitLab 或者 GitHub 中settings的SSH Key中即可</p><h3 id="五、验证ssh连接是否匹配成功" tabindex="-1">五、验证ssh连接是否匹配成功 <a class="header-anchor" href="#五、验证ssh连接是否匹配成功" aria-label="Permalink to &quot;五、验证ssh连接是否匹配成功&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ssh -T git@github.com</span></span></code></pre></div><h3 id="六、用户名-邮箱配置" tabindex="-1">六、用户名，邮箱配置 <a class="header-anchor" href="#六、用户名-邮箱配置" aria-label="Permalink to &quot;六、用户名，邮箱配置&quot;">​</a></h3><p>创建一个全局用户名、全局邮箱作为配置信息</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>git config --global user.name &quot;xhh&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>git config --global user.email &quot;184243xxxx@qq.com&quot;</span></span></code></pre></div><p>本地仓库</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>git config --local</span></span></code></pre></div><p>不同邮箱：必须删除该设置</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>git config --global --unset user.name &quot;你的名字&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>git config --global --unset user.email &quot;你的邮箱&quot;</span></span></code></pre></div><p>备注：一个邮箱要同时配置gitlab、github和gitee，那么ssh key的名字要进行区分：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ssh-keygen -t rsa -C &quot;184243xxxx@qq.com&quot; -f ~/.ssh/github_id-rsa</span></span></code></pre></div><h3 id="七、-ssh目录下配置config文件" tabindex="-1">七、.ssh目录下配置config文件 <a class="header-anchor" href="#七、-ssh目录下配置config文件" aria-label="Permalink to &quot;七、.ssh目录下配置config文件&quot;">​</a></h3><p>gitlab</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Host gitlab.com</span></span>
<span class="line"><span>HostName gitlab.com</span></span>
<span class="line"><span>PreferredAuthentications publickey</span></span>
<span class="line"><span>IdentityFile ~/.ssh/id_rsa</span></span></code></pre></div><p>GitHub</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Host github.com</span></span>
<span class="line"><span>HostName github.com</span></span>
<span class="line"><span>PreferredAuthentications publickey</span></span>
<span class="line"><span>IdentityFile ~/.ssh/github_id-rsa</span></span></code></pre></div><p>gitee</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Host gitee.com</span></span>
<span class="line"><span>HostName gitee.com</span></span>
<span class="line"><span>PreferredAuthentications publickey</span></span>
<span class="line"><span>IdentityFile ~/.ssh/gitee_id-rsa</span></span></code></pre></div><h3 id="八、远程仓库url地址变更" tabindex="-1">八、远程仓库url地址变更 <a class="header-anchor" href="#八、远程仓库url地址变更" aria-label="Permalink to &quot;八、远程仓库url地址变更&quot;">​</a></h3><p>更新 ~/.ssh/known_hosts</p><p>1.项目.git 的config文件：remote &quot;origin&quot; 修改 url</p><p>2.拉取代码时发出警告，Host key verification failed，输入yes</p><h3 id="九、mac-sourcetree使用https方式拉取代码时-一直提示密码输入解决办法" tabindex="-1">九、Mac sourcetree使用https方式拉取代码时，一直提示密码输入解决办法 <a class="header-anchor" href="#九、mac-sourcetree使用https方式拉取代码时-一直提示密码输入解决办法" aria-label="Permalink to &quot;九、Mac sourcetree使用https方式拉取代码时，一直提示密码输入解决办法&quot;">​</a></h3><p>进入项目目录：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>git config --global credential.helper osxkeychain</span></span></code></pre></div><h3 id="十、https方式拉取代码存储账号密码" tabindex="-1">十、https方式拉取代码存储账号密码 <a class="header-anchor" href="#十、https方式拉取代码存储账号密码" aria-label="Permalink to &quot;十、https方式拉取代码存储账号密码&quot;">​</a></h3><p>全局设置：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>git config --global credential.helper store</span></span>
<span class="line"><span>or</span></span>
<span class="line"><span>git config --global credential.helper manager</span></span></code></pre></div><p>进入项目目录设置：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>git config --global --unset credential.helper store</span></span>
<span class="line"><span>git config --global credential.helper store</span></span></code></pre></div><h3 id="十一、gitee公开仓库clone出现-fatal-unable-to-access-的错误" tabindex="-1">十一、gitee公开仓库clone出现 fatal: unable to access 的错误 <a class="header-anchor" href="#十一、gitee公开仓库clone出现-fatal-unable-to-access-的错误" aria-label="Permalink to &quot;十一、gitee公开仓库clone出现 fatal: unable to access 的错误&quot;">​</a></h3><p>这个错误不是因为没有权限，而是因为本地的git可能使用了代理，操作步骤如下：</p><p>取消代理</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>git config --global --unset http.proxy</span></span>
<span class="line"><span>git config --global --unset https.proxy</span></span></code></pre></div><h3 id="十二、windows更改git-push时用到的用户信息" tabindex="-1">十二、windows更改git push时用到的用户信息 <a class="header-anchor" href="#十二、windows更改git-push时用到的用户信息" aria-label="Permalink to &quot;十二、windows更改git push时用到的用户信息&quot;">​</a></h3><p>控制面板 =&gt; 凭证管理器 =&gt; Windows 凭据</p><p><img src="`+n+'" alt="alt text"></p><p>删除 git 相关信息，下次 git push 时就会重新提示输入用户名和密码</p><hr><p>参考文档：</p><p><a href="https://help.gitee.com/enterprise/code-manage/%E6%9D%83%E9%99%90%E4%B8%8E%E8%AE%BE%E7%BD%AE/%E9%83%A8%E7%BD%B2%E5%85%AC%E9%92%A5%E7%AE%A1%E7%90%86/%E7%94%9F%E6%88%90%E6%88%96%E6%B7%BB%E5%8A%A0SSH%E5%85%AC%E9%92%A5" target="_blank" rel="noreferrer">https://help.gitee.com/enterprise/code-manage/权限与设置/部署公钥管理/生成或添加SSH公钥</a></p>',62),l=[p];function o(c,h,d,g,r,u){return e(),a("div",null,l)}const k=s(i,[["render",o]]);export{v as __pageData,k as default};
